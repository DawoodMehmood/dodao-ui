fragment GuideQuestion on GuideQuestion {
  answerKeys
  choices {
    content
    key
    order
  }
  content
  order
  type
  uuid
}

fragment GuideUserInput on GuideUserInput {
  label
  order
  required
  type
  uuid
}

fragment UserDiscordConnect on UserDiscordConnect {
  order
  type
  uuid
}

fragment GuideStep on GuideStep {
  content
  created
  stepItems {
    __typename
    ...GuideQuestion
    ...GuideUserInput
    ...UserDiscordConnect
  }
  id
  name
  order
  uuid
}

fragment GuideIntegration on GuideIntegrations {
  discordRoleIds
  discordRolePassingCount
  discordWebhook
  projectGalaxyCredentialId
  projectGalaxyOatMintUrl
  projectGalaxyOatPassingCount
}


fragment Guide on Guide {
  authors
  categories
  postSubmissionStepContent
  content
  created
  id
  guideIntegrations {
    ...GuideIntegration
  }
  guideSource
  guideType
  link
  name
  previousId
  showIncorrectOnCompletion
  space {
    id
    name
  }
  steps {
    ...GuideStep
  }
  publishStatus
  socialShareImage
  thumbnail
  uuid
  version
}

mutation UpsertGuide($spaceId: String!, $guideInput: GuideInput!) {
  payload: upsertGuide(spaceId: $spaceId, guideInput: $guideInput) {
    ...Guide
  }
}

query GuideQuery($spaceId: String!, $uuid: String!) {
  guide(spaceId: $spaceId, uuid: $uuid) {
    ...Guide
  }
}

mutation RefreshGitGuides($spaceId: String!) {
  payload: refreshGitGuides(spaceId: $spaceId)
}
