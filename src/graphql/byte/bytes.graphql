fragment ByteQuestion on ByteQuestion {
  answerKeys
  choices {
    content
    key
  }
  content
  type
  uuid
  explanation
}

fragment ByteUserInput on ByteUserInput {
  label
  required
  type
  uuid
}

fragment ByteUserDiscordConnect on UserDiscordConnect {
  type
  uuid
}

fragment ByteStepItem on ByteStepItem {
  __typename
  ... on ByteQuestion {
    ...ByteQuestion
  }

  ... on ByteUserInput {
    ...ByteUserInput
  }

  ... on UserDiscordConnect {
    ...ByteUserDiscordConnect
  }
}

fragment ByteStep on ByteStep {
  content
  stepItems {
    ...ByteStepItem
  }
  name
  uuid
}


fragment ByteDetails on Byte {
  postSubmissionStepContent
  content
  created
  id
  name
  publishStatus
  admins
  tags
  priority
  steps {
    ...ByteStep
  }
}

query QueryBytes($spaceId: String!) {
  bytes(spaceId: $spaceId) {
    postSubmissionStepContent
    content
    created
    id
    name
    publishStatus
    admins
    tags
    priority
  }
}

query QueryByteDetails($spaceId: String!, $byteId: String!) {
  byte(spaceId: $spaceId, byteId: $byteId) {
    ...ByteDetails
  }
}

mutation UpsertByte($spaceId: String!, $input: UpsertByteInput!) {
  payload: upsertByte(spaceId: $spaceId, input: $input) {
    ...ByteDetails
  }
}
